<head>

  <link rel="stylesheet" href="/static/style.css">

    <!--  SUNBURST LIBRARIES -->
    <script src="/static/sunburst.js"></script>
    <script src="/static/dataset_loader.js"></script>
    <script src="https://unpkg.com/d3"></script>

    <!--  COLLAPSIBLE TREE LIBRARIES -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.12.0/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">


    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.0/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.12.0/js/dataTables.bootstrap4.min.js"></script>
    <!--<script src="dndTree.js"></script>-->
</head>



<body>
  <div class="header">

    <!--Content before waves-->
    <div class="inner-header flex">
    <!--Just the logo.. Don't mind this-->
      <img src="/static/Images/logo_dais_bianco.png" onclick="location.reload();" class="logo">
    </div>


    <!--Waves Container-->
    <div>
    <svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
    viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto">
    <defs>
    <path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z" />
    </defs>
    <g class="parallax">
    <use xlink:href="#gentle-wave" x="48" y="0" fill="rgba(255,255,255,0.7" />
    <use xlink:href="#gentle-wave" x="48" y="3" fill="rgba(255,255,255,0.5)" />
    <use xlink:href="#gentle-wave" x="48" y="5" fill="rgba(255,255,255,0.3)" />
    <use xlink:href="#gentle-wave" x="48" y="7" fill="#fff" />
    </g>
    </svg>
    </div>
    <!--Waves end-->

    </div>
    <!--Header ends-->

    <!--Content starts-->

    <!--Content ends-->


  <div class="" style="margin: 23px;">

    <div class="row">


      <div class="col-lg-12" >
        <fieldset class="border p-2" id="load_dataset">
        <legend class="w-auto" style="font-size: 20px!important; margin-bottom: 0px;"> STEP 1: Upload Dataset
        </legend>
        <div class="input-group">
          <input  class="form-control form-control-lg" type="file" name="file2" id="file2">
          <button class="btn btn-primary" type="button" id="load1" onclick="load_data()" >Upload</button>
        </div>
       </fieldset>
      </div>



      <div class="col-lg-12" >
        <fieldset class="border p-2" id="load_json">
        <legend class="w-auto" style="font-size: 20px!important; margin-bottom: 0px;"> STEP 2: Upload results and Generate Plots
        </legend>
        <div class="input-group">
          <input  class="form-control form-control-lg" type="file" name="file1" id="file1"  disabled="true">
          <button class="btn btn-primary" type="button" id="load2" onclick="createchart()" disabled="true">Upload</button>
        </div>
       </fieldset>
      </div>


      <div class="col-lg-6" id="contenitore">
        <div id="tree-container"></div>
      </div>
      <div class="col-lg-6">
        <div id="sunburst"></div>
      </div>

    <!-- Icona del tutorial -->
    <div id="tutorial-buttonID" class="tutorial-button">
        <img src="/static/Images/info.gif" alt="Tutorial Icon">
    </div>

    <!-- Overlay del tutorial -->
    <div id="tutorial-overlay">
        <div id="tutorial-content">
           <img id="close-btn" src="/static/Images/close.png" alt="Chiudi" />
           <center><h2>Tutorial</h2></center>
           <p id="tutorial-instructions">Grazie per aver accettato di partecipare a questo user study. Questa pagina di tutorial ti fornirà le informazioni necessarie per completare l'esperimento. In particolare, questa pagina tratterà:
            <ol style="font-size: 0.5em; font-family: 'Lato', sans-serif;">
                <li>La definizione di Relaxed Functional Dependency (RFD)</li>
                <li>Un'introduzione alle funzionalità del tool RYAN</li>
                <li>Una descrizione del task che devi svolgere per il nostro esperimento</li>
            </ol> 
        </p>
        <h3>Dipendenze Funzionali Rilassate</h3>
        <p id="tutorial-instructions">Nei database relazionali, una <b>Relaxed Functional Dependency (RFD)</b> è un vincolo di integrità X -> Y tra due <b>insiemi di attributi X e Y</b>, che indica che se <b>due tuple hanno valori simili sugli attributi in X, allora devono avere valori simili su quelli in Y</b>. X è chiamato <b>Left Hand Side (LHS)</b>, mentre Y è il <b>Right Hand Side (RHS)</b>. Due valori di un attributo sono considerati simili se la loro distanza è inferiore alla <b>soglia di similarità</b> definita per quell'attributo. La funzione per valutare la similarità è la distanza di edit per le stringhe e la differenza per i numeri.</p>
        <p id="tutorial-instructions">Ad esempio, considera il seguente dataset:</p>
        
<!-- Esempio Tabellare -->
<table id="rfd-example-table" class="table table-striped table-bordered" style="width:100%; border-collapse: collapse;">
  <thead>
      <tr>
          <th style="border: 1px solid #000; padding: 8px;">#</th>
          <th style="border: 1px solid #000; padding: 8px;">Model</th>
          <th style="border: 1px solid #000; padding: 8px;">Year</th>
          <th style="border: 1px solid #000; padding: 8px;">Price</th>
          <th style="border: 1px solid #000; padding: 8px;"># Owners</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">1</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio</td>
          <td style="border: 1px solid #000; padding: 8px;">2018</td>
          <td style="border: 1px solid #000; padding: 8px;">8000</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>

      </tr>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">2</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio</td>
          <td style="border: 1px solid #000; padding: 8px;">1999</td>
          <td style="border: 1px solid #000; padding: 8px;">1200</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>

      </tr>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">3</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio dci</td>
          <td style="border: 1px solid #000; padding: 8px;">2019</td>
          <td style="border: 1px solid #000; padding: 8px;">8500</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>
      </tr>
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">4</td>
        <td style="border: 1px solid #000; padding: 8px;">Ford Fiesta Tdci</td>
        <td style="border: 1px solid #000; padding: 8px;">2022</td>
        <td style="border: 1px solid #000; padding: 8px;">10000</td>
        <td style="border: 1px solid #000; padding: 8px;">1</td>
    </tr>
  </tbody>
</table>
<p id="tutorial-instructions">L'RFD <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub> -> Price<sub>&le;500</sub></b> è valida su questo dataset, poiché modelli simili con anni di produzione simili hanno un prezzo simile <b>(4, 1 e 500 sono le soglie di similarità).</b> Infatti, la prima e la terza tupla (righe) hanno valori simili per gli attributi <b>Model</b> e <b>Year</b>, e hanno anche valori per l'attributo <b>Price</b> che differiscono di meno rispetto alla soglia di similarità.</p>
<p id="tutorial-instructions">Dopo l'<b id="strong-text-green">inserimento</b> di una nuova tupla, una RFD esistente può essere invalidata solo se <b>la nuova tupla ha valori simili sull'LHS rispetto ad altre tuple ma valori diversi sull'RHS</b>. In questo caso, una <b id="strong-text-green">RFD specializzata con attributi aggiuntivi sull'LHS</b> potrebbe essere valida sul dataset.</p>
<p id="tutorial-instructions">Ad esempio, supponiamo di aggiungere la tupla 5 al dataset precedente:</p>
<table id="rfd-example-table" class="table table-striped table-bordered" style="width:100%; border-collapse: collapse;">
  <thead>
      <tr>
          <th style="border: 1px solid #000; padding: 8px;">#</th>
          <th style="border: 1px solid #000; padding: 8px;">Model</th>
          <th style="border: 1px solid #000; padding: 8px;">Year</th>
          <th style="border: 1px solid #000; padding: 8px;">Price</th>
          <th style="border: 1px solid #000; padding: 8px;"># Owners</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">1</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio</td>
          <td style="border: 1px solid #000; padding: 8px;">2018</td>
          <td style="border: 1px solid #000; padding: 8px;">8000</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>

      </tr>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">2</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio</td>
          <td style="border: 1px solid #000; padding: 8px;">1999</td>
          <td style="border: 1px solid #000; padding: 8px;">1200</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>

      </tr>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">3</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio dci</td>
          <td style="border: 1px solid #000; padding: 8px;">2019</td>
          <td style="border: 1px solid #000; padding: 8px;">8500</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>
      </tr>
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">4</td>
        <td style="border: 1px solid #000; padding: 8px;">Ford Fiesta Tdci</td>
        <td style="border: 1px solid #000; padding: 8px;">2022</td>
        <td style="border: 1px solid #000; padding: 8px;">10000</td>
        <td style="border: 1px solid #000; padding: 8px;">1</td>
    </tr>
    <tr style="background-color: #2CD200;">
      <td style="border: 1px solid #000; padding: 8px;">5</td>
      <td style="border: 1px solid #000; padding: 8px;">Renault Clio dci</td>
      <td style="border: 1px solid #000; padding: 8px;">2019</td>
      <td style="border: 1px solid #000; padding: 8px;">5500</td>
      <td style="border: 1px solid #000; padding: 8px;">3</td>
  </tr>
  </tbody>
</table>
<p id="tutorial-instructions">L'RFD <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub> -> Price<sub>&le;500</sub></b> non è più valido, poiché la tupla 5 ha un modello simile e un anno simile rispetto alle tuple 1 e 3, ma ha un prezzo diverso.</p>
<p id="tutorial-instructions">Tuttavia, l'RFD invalidata può essere specializzato dall'RFD <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub>, <b id="strong-text-green">#Owners<sub>&le;0</sub></b> -> Price<sub>&le;500</sub></b>, che è valida sul dataset aggiornato. Infatti, solo le tuple 1 e 3 soddisfano i vincoli sul lato sinistro e hanno valori simili per l'attributo sul lato destro.</p>

<p id="tutorial-instructions">Invece, dopo la <b id="strong-text-red">cancellazione</b> di una tupla, una <b id="strong-text-red">RFD generalizzata con un sottoinsieme di attributi sull'LHS</b> potrebbe essere valida sul dataset se la tupla eliminata aveva valori simili sull'LHS ridotto rispetto ad altre tuple, ma aveva valori diversi sull'RHS. In questo caso, l'RFD precedentemente valida non è più minimale e viene sostituita dall'RFD generalizzato.</p>
<p id="tutorial-instructions">Ad esempio, supponiamo di cancellare la tupla che abbiamo aggiunto nell'esempio precedente:</p>

<table id="rfd-example-table" class="table table-striped table-bordered" style="width:100%; border-collapse: collapse;">
  <thead>
      <tr>
          <th style="border: 1px solid #000; padding: 8px;">#</th>
          <th style="border: 1px solid #000; padding: 8px;">Model</th>
          <th style="border: 1px solid #000; padding: 8px;">Year</th>
          <th style="border: 1px solid #000; padding: 8px;">Price</th>
          <th style="border: 1px solid #000; padding: 8px;"># Owners</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">1</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio</td>
          <td style="border: 1px solid #000; padding: 8px;">2018</td>
          <td style="border: 1px solid #000; padding: 8px;">8000</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>

      </tr>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">2</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio</td>
          <td style="border: 1px solid #000; padding: 8px;">1999</td>
          <td style="border: 1px solid #000; padding: 8px;">1200</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>

      </tr>
      <tr>
          <td style="border: 1px solid #000; padding: 8px;">3</td>
          <td style="border: 1px solid #000; padding: 8px;">Renault Clio dci</td>
          <td style="border: 1px solid #000; padding: 8px;">2019</td>
          <td style="border: 1px solid #000; padding: 8px;">8500</td>
          <td style="border: 1px solid #000; padding: 8px;">1</td>
      </tr>
      <tr>
        <td style="border: 1px solid #000; padding: 8px;">4</td>
        <td style="border: 1px solid #000; padding: 8px;">Ford Fiesta Tdci</td>
        <td style="border: 1px solid #000; padding: 8px;">2022</td>
        <td style="border: 1px solid #000; padding: 8px;">10000</td>
        <td style="border: 1px solid #000; padding: 8px;">1</td>
    </tr>
    <tr style="background-color: red;">
      <td style="border: 1px solid #000; padding: 8px;">5</td>
      <td style="border: 1px solid #000; padding: 8px;">Renault Clio dci</td>
      <td style="border: 1px solid #000; padding: 8px;">2019</td>
      <td style="border: 1px solid #000; padding: 8px;">5500</td>
      <td style="border: 1px solid #000; padding: 8px;">3</td>
  </tr>
  </tbody>
</table>
<p id="tutorial-instructions">Come detto, la tupla 5 invalidava l'RFD originale <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub> -> Price<sub>&le;500</sub></b>, portando all'evoluzione di questa dipendenza con l'RFD specializzata <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub>, #Owners<sub>&le;0</sub> -> Price<sub>&le;500</sub></b>.</p>
<p id="tutorial-instructions">Quindi, la tupla eliminata aveva valori simili per l'LHS originale (Model, Year) ma un prezzo diverso. Dopo la cancellazione, l'RFD specializzata <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub>, #Owners<sub>&le;0</sub> -> Price<sub>&le;500</sub></b> non è più minimale, poiché l'RFD <b>Model<sub>&le;4</sub>, Year<sub>&le;1</sub> -> Price<sub>&le;500</sub></b> è di nuovo valida e ha un sottoinsieme dei suoi attributi nell'LHS.
  <br><br><b>In quanto segue, considereremo solo RFD con un singolo attributo sull'RHS.</b>  
</p>


<h3>Il tool Ryan</h3>
<p id="tutorial-instructions"><b>RFD explainability & ANalysis tool (RYAN) tool</b> è uno dei primi strumenti basati sull'intelligenza artificiale che analizza come le RFD scoperte in un dataset evolvono con il cambiamento dei dati. RYAN è in grado di combinare <b>componenti visivi interattivi</b> e <b>LLM emergenti</b> per fornire <b>spiegazioni sull'evoluzione delle RFD scoperte dopo le modifiche ai dati</b> (inserimenti, cancellazioni e aggiornamenti).</p>

 <!-- Slideshow container -->
<div class="slideshow-container">
  <!-- Slides -->
  <div class="mySlides">
      <img src="/static/Images/Home.png" style="width:100%">
  </div>
</div>
<!-- Caption container -->
<div class="caption-container">
  <div class="caption"> Figura 1:  Homepage. Da qui, l'utente può caricare il dataset (in formato CSV) e i risultati del discovey di RFD (in formato JSON).</div>
</div>
<br>


<p id="tutorial-instructions">Dopo aver caricato (<b>vedi Figura 1</b>) il dataset e i risultati di due processi di RFD discovery fatti prima e dopo delle operazioni di inserimento e cancellazione, Ryan fornisce diverse componenti visuali per analizzarle:
  <ul style="font-size: 0.5em; font-family: 'Lato', sans-serif;">
    <li>
      Il primo componente visivo è l'<b>RFD tree (Figura 2)</b>. Questo albero introduce una rappresentazione a scomparsa di tutte le <b>RFD scoperte sui dati aggiornati</b>, cioè al tempo <b>𝜏 + 1</b>, e la loro relazione con quelle scoperte al tempo 𝜏. L'albero RFD divide le RFD scoperte in cinque categorie principali: 
      <b>Generalizzazioni, Specializzazioni, RFD trovate, RFD non trovate e Nuove RFD</b>. L'albero RFD è composto da un nodo radice, etichettato “RFDs”, collegato a cinque nodi figli, uno per ciascuna delle categorie descritte sopra. Le Generalizzazioni/Specializzazioni rappresentano tutte le RFD scoperte al tempo 𝜏 + 1 che generalizzano/specializzano <b>almeno una RFD scoperta al tempo 𝜏</b>. Il nodo RFD trovate contiene tutte le RFD valide sia al tempo 𝜏 che al tempo 𝜏 <b>+ 1</b>, mentre il nodo RFD non trovate contiene tutte le RFD che sono state scoperte al tempo 𝜏 ma non sono state scoperte in alcuna forma al tempo 𝜏 + 1. Il nodo Nuove RFD rappresenta tutte le RFD scoperte al tempo 𝜏 <b>+ 1</b> che non erano state scoperte al tempo 𝜏. Cliccando su uno di questi nodi, l'albero può mostrare nuovi nodi che rappresentano gli attributi RHS delle RFD nella classe selezionata (<b>Figura 3</b>). Cliccando ulteriormente su uno di questi nodi (<b>Figura 4</b>), l'albero mostra i suoi figli, etichettati con gli attributi LHS associati al RHS scelto, mostrando così tutte le RFD.
    </li>
  </ul>
  

    <div class="slideshow-container">
      <!-- Slides -->
      <div class="mySlides">
          <img src="/static/Images/MainPage.png" style="width:100%">
      </div>
    </div>
    <!-- Caption container -->
    <div class="caption-container">
      <div class="caption"> Figura 2: RFD tree e Sunburst. Dopo il caricamento dei file, RYAN visualizza due componenti visuali: un RFD tree (a sinistra) e un sunburst chart(a destra).
    </div>
    </div>
    <br>

    <div class="slideshow-container">
      <!-- Slides -->
      <div class="mySlides">
          <img src="/static/Images/Navigation.png" style="width:100%">
      </div>
    </div>
    <!-- Caption container -->
    <div class="caption-container">
      <div class="caption"> Figura 3: Navigazione dell'RFD tree. In questo caso, l'utente seleziona le RFD specializzate e l'albero mostra i diversi RHS di tutte le RFD in questa categoria. </div>
    </div>
    <br>

    <div class="slideshow-container">
      <!-- Slides -->
      <div class="mySlides">
          <img src="/static/Images/Navigation2.png" style="width:100%">
      </div>
    </div>
    <!-- Caption container -->
    <div class="caption-container">
      <div class="caption"> Figura 4: Navigazione dell'RFD tree (2). Cliccando su uno degli RHS, RYAN mostrerà l'LHS di tutte le dipendenze che hanno l'RHS selezionato nella categoria selezionata. </div>
    </div>
    <br>
    
    <ul style="font-size: 0.5em; font-family: 'Lato', sans-serif;">
      <li>Il secondo componente visivo è il grafico <b>Sunburst</b> (<b>a destra delle Figure 2, 3, 4</b>). Simile all'RFD tree, il Sunburst fornisce una rappresentazione gerarchica delle RFD, considerando un <b>livello più alto di astrazione</b> per fornire agli utenti <b>statistiche</b> sulle cinque categorie di RFD. L'anello più interno del Sunburst, etichettato “RFDs”, è la radice del grafico. Il secondo anello contiene i segmenti che rappresentano le categorie di RFD. Infine, il terzo e il quarto anello contengono i segmenti degli RHS e dei rispettivi LHS delle RFD scoperte con le modifiche ai dati, rispettivamente. Passando il puntatore sui segmenti, è possibile visualizzare il percorso completo dall'anello più interno alla fetta selezionata.</li>
      <li>Il terzo componente visivo è la <b>Comparative Datatable</b> (<b>Figura 5</b>). Fornisce una rappresentazione più dettagliata delle RFD e consente agli utenti di ottenere una spiegazione precisa dell'impatto che le modifiche ai dati hanno avuto sulle RFD in corso. La Tabella viene aggiornata dopo aver espanso completamente un percorso nell'albero RFD. È composta da cinque colonne diverse: le prime due rappresentano l'LHS e l'RHS di una <b>RFD 𝜙 valida al tempo 𝜏</b>; la terza è la motivazione con cui l'RFD scoperta al tempo <b>𝜏 + 1</b> è correlata a 𝜙, mentre le ultime due contengono gli <b>attributi sull'LHS e sull'RHS</b> di una RFD validata al tempo <b>𝜏 + 1</b>. Quando si visualizza una dipendenza specializzata, gli attributi aggiuntivi sono evidenziati in verde, mentre quando si visualizza una dipendenza generalizzata, gli attributi rimossi sono evidenziati in rosso (<b>Figura 6</b>). Per quanto riguarda la notazione, ogni attributo e la soglia corrispondente sono scritti come segue: <b>AttributeName_threshold</b>, dove il _ indica il vincolo &le;.</li>
    </ul>
    
  <div class="slideshow-container">
    <!-- Slides -->
    <div class="mySlides">
        <img src="/static/Images/Datatable.PNG" style="width:100%">
    </div>
  </div>
  <!-- Caption container -->
  <div class="caption-container">
    <div class="caption"> Figura 5: Comparative Datatable. Dopo aver espanso completamente un nodo nell'RFD tree, la tabella visualizzerà le dipendenze appartenenti a quel nodo. Se la dipendenza selezionata è una specializzazione o una generalizzazione di una precedente RFD scoperta prima degli aggiornamenti dei dati, la tabella mostrerà la dipendenza originale nella stessa riga.
  </div>
  </div>
  <br>
  <div class="slideshow-container">
    <!-- Slides -->
    <div class="mySlides">
        <img src="/static/Images/Generalizations.PNG" style="width:100%">
    </div>
  </div>
  <!-- Caption container -->
  <div class="caption-container">
    <div class="caption"> Figura 6: Comparative Datatable per le RFD generalizzate.</div>
  </div>
  <br>
  <p id="tutorial-instructions">Nel caso di una RFD che è una specializzazione o una generalizzazione di una RFD scoperta prima degli aggiornamenti dei dati, l'utente può cliccare sul pulsante EXPLAIN visualizzato nella riga associata della tabella. Questa funzione permette di fornire una spiegazione del perché la RFD è evoluta analizzando gli aggiornamenti dei dati avvenuti. RYAN compilerà un prompt contenente le informazioni rilevanti necessarie per spiegare l'evoluzione e lo fornirà a un LLM. Una volta pronto, la risposta sarà mostrata all'utente in una nuova finestra (<b>vedi Figura 7</b>).</p>
  
  <div class="slideshow-container">
    <!-- Slides -->
    <div class="mySlides">
        <img src="/static/Images/Explain.PNG" style="width:100%">
    </div>
  </div>
  <!-- Caption container -->
  <div class="caption-container">
    <div class="caption"> Figura 7: The Explain feature of RYAN.
  </div>
  </div>
  <br>
  <p id="tutorial-instructions">Inoltre, la tabella fornisce anche la <b>funzione INTERACT</b>. Cliccando sul pulsante associato, verrà visualizzata una nuova finestra contenente il prompt compilato (<b>vedi Figura 8</b>). Qui, l'utente può personalizzare il prompt o fare ulteriori domande. Una volta che il prompt personalizzato è pronto, l'utente può cliccare sul pulsante <b>Ask</b> e attendere la risposta.</p>

  <div class="slideshow-container">
    <!-- Slides -->
    <div class="mySlides">
        <img src="/static/Images/Interact.PNG" style="width:100%">
    </div>
  </div>
  <!-- Caption container -->
  <div class="caption-container">
    <div class="caption"> Figura 8: La funzionalità INTERACT di RYAN.
  </div>
  </div>
  </p>


<!-- Content after the slideshow -->
<div style="margin-top: 20px;">
  <h3>Descrizione del Task</h3>
  <p id="tutorial-instructions">In questo esperimento, ti verrà chiesto di caricare un dataset e un file con i risultati di due discovery di RFD fatti prima e dopo delle operazioni di inserimento e cancellazione. Ti verrà assegnata una RFD target scoperta sui dati aggiornati e appartenente alla categoria ‘Specializzata’ o ‘Generalizzata’. Dovrai poi espandere l'albero RFD selezionando la categoria corretta e poi l' RHS di interesse. A questo punto, nella tabella comparativa, cerca la dipendenza target e sfrutta le funzionalità Explain e Interact offerte da RYAN. Lo scopo è capire il motivo per cui l'RFD si è evoluta. Al termine del task ti verrà fornito un breve questionario da compilare. </p>
  <p id="objective-text"></p>
  <p id="tutorial-instructions">Questo tutorial rimarrà disponibile durante il test se ne hai bisogno.</p>
  <p id="tutorial-instructions">Se sei pronto, puoi cliccare sul pulsante qui sotto per iniziare l'esperimento. Altrimenti, puoi chiedere ulteriori dettagli!</p>
  </div>
<center><button id="start-button" role="button" style="font-size: 0.7em; background-color: #2cd200; color: white;"><span>Start!</span></button></center>

</div>


</div>
</div>


<div class="col-lg-13" style="display: none;" id="sezioneRisultati">
  <span><br></span>
  <table id="risultati" class="table table-striped table-bordered" style="width:100%">
      <thead>
      <tr>
          <th>LHS of 𝜏 </th>
          <th>RHS of 𝜏</th>
          <th>Type</th>
          <th>LHS of 𝜏 + 1</th>
          <th>RHS of 𝜏 + 1</th>
          <th>Explain</th>
          <th>Interact</th>

      </tr>
      </thead>
      <tbody id="bodyrisultati"></tbody>
      <tfoot>
      </tfoot>
  </table>
</div>



<script>
    // Seleziona l'elemento del pulsante del tutorial e l'overlay
    const tutorialButton = document.getElementById('tutorial-buttonID');
    const tutorialOverlay = document.getElementById('tutorial-overlay');
    const closeBtn = document.getElementById('close-btn');
    const closeBtn2 = document.getElementById('start-button');
    const objectiveText = document.getElementById('objective-text');


    // Array di obiettivi
    const objectives = [
    "Task 5: Carica il dataset 'test.csv' e i risultati della scoperta RFD 'jsonForChart_test.csv'. Naviga nell'albero RFD espandendo il nodo 'Specializzazioni'. Poi, espandi il nodo che contiene tutte le RFD con RHS 'serum-creatinine'. Nella tabella, trova la RFD con LHS 'age, platelets, serum-sodium'. Devi capire perché questa RFD specializzata è stata scoperta invece di quella originale. Clicca sul pulsante Explain e attendi la risposta del modello. Una volta pronta, leggi attentamente la spiegazione. Infine, chiudi la finestra di spiegazione e clicca sul pulsante Interact nella stessa riga. Leggi attentamente il prompt compilato, poiché il questionario finale ti chiederà di confrontare il prompt con la spiegazione del modello.",
    "Task 22: Carica il dataset 'test.csv' e i risultati della scoperta RFD 'jsonForChart_test.csv'. Naviga nell'albero RFD espandendo il nodo 'Generalizzazioni'. Poi, espandi il nodo che contiene tutte le RFD con RHS 'DEATH-EVENT'. Nella tabella, trova la RFD con LHS 'platelets', che è una generalizzazione di una vecchia RFD con LHS 'platelets, age'. Devi capire perché questa RFD generalizzata è stata scoperta invece di quella originale. Clicca sul pulsante Explain e attendi la risposta del modello. Una volta pronta, leggi attentamente la spiegazione. Infine, chiudi la finestra di spiegazione e clicca sul pulsante Interact nella stessa riga. Leggi attentamente il prompt compilato, poiché il questionario finale ti chiederà di confrontare il prompt con la spiegazione del modello.",
    "Task 13: Carica il dataset 'test.csv' e i risultati della scoperta RFD 'jsonForChart_test.csv'. Naviga nell'albero RFD espandendo il nodo 'Generalizzazioni'. Poi, espandi il nodo che contiene tutte le RFD con RHS 'DEATH-EVENT'. Nella tabella, trova la RFD con LHS 'platelets', che è una generalizzazione di una vecchia RFD con LHS 'platelets, ejection-fraction'. Devi capire perché questa RFD generalizzata è stata scoperta invece di quella originale. Clicca sul pulsante Explain e attendi la risposta del modello. Una volta pronta, leggi attentamente la spiegazione. Infine, chiudi la finestra di spiegazione e clicca sul pulsante Interact nella stessa riga. Leggi attentamente il prompt compilato, poiché il questionario finale ti chiederà di confrontare il prompt con la spiegazione del modello."
];



    // Genera un numero casuale all'interno del range dell'array
    const randomIndex = Math.floor(Math.random() * objectives.length);

    // Imposta l'obiettivo casuale nel testo del tutorial
    objectiveText.textContent = objectives[randomIndex];

    // Mostra l'overlay quando il pulsante viene cliccato
    tutorialButton.addEventListener('click', () => {
        tutorialOverlay.style.display = 'block';
    });

    // Nascondi l'overlay quando il pulsante di chiusura viene cliccato
    closeBtn.addEventListener('click', () => {
        tutorialOverlay.style.display = 'none';
    });
        // Nascondi l'overlay quando il pulsante di chiusura viene cliccato
    closeBtn2.addEventListener('click', () => {
        tutorialOverlay.style.display = 'none';
    });
</script>


</body>
